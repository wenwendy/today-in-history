(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(30)},21:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){e.exports=a.p+"static/media/matthew-kane-278419-unsplash.6695892a.jpg"},30:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(6),c=a.n(r),i=(a(21),a(7)),s=a(8),l=a(11),d=a(9),h=a(10),u=a(1);a(23);function f(e){return o.a.createElement("div",null,e.item)}var m=function(e){return o.a.createElement("div",{className:"breach-class-container"},e.item.map(function(e){return o.a.createElement(f,{item:e})}))};a(25);var y=function(e){var t=e.item;return o.a.createElement("div",{className:"breach-container"},o.a.createElement("div",{className:"breach-title"},t.Title),o.a.createElement("div",{className:"breach-date"},t.BreachDate),o.a.createElement(m,{item:t.DataClasses}),o.a.createElement("div",{className:"breach-description",dangerouslySetInnerHTML:{__html:t.Description}}))};a(27);function v(e){var t=e.isPeace?"peace":"breach";return o.a.createElement("button",{className:t,onClick:e.handler}," ","<"," ")}function g(e){var t=e.isPeace?"peace":"breach";return o.a.createElement("button",{className:t,onClick:e.handler}," ",">"," ")}function p(e){var t=e.isPeace?"peace":"breach";return o.a.createElement("button",{className:t,onClick:e.handler}," Today ")}var b={opacity:.5},w={color:"grey"};var D=function(e){return o.a.createElement("div",null,o.a.createElement("img",{style:b,src:a(29),alt:"It is a peaceful day ..."}),o.a.createElement("span",{style:w},"Photo by ",o.a.createElement("a",{href:"https://unsplash.com/photos/5brvJbR1Pn8?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Matthew Kane")," on "," ",o.a.createElement("a",{href:"https://unsplash.com/search/photos/beach?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText"},"Unsplash")))},E=function(e){function t(e){var a;return Object(i.a)(this,t),console.log("constructing ..."),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={error:null,isLoaded:!1,breaches:[],breachesToday:[],todayMM:(new Date).getMonth()+1,todayDD:(new Date).getDate()},a.yesterdayHandler=a.yesterdayHandler.bind(Object(u.a)(Object(u.a)(a))),a.tomorrowHandler=a.tomorrowHandler.bind(Object(u.a)(Object(u.a)(a))),a.todayHandler=a.todayHandler.bind(Object(u.a)(Object(u.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://haveibeenpwned.com/api/v2/breaches").then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,breaches:t}),e.getBreachesToday()},function(t){e.setState({isLoaded:!1,error:t})})}},{key:"yesterdayHandler",value:function(e){console.log("handle yesterday..."),e.preventDefault(),this.setState({todayDD:this.getDateWithOffset(-1)})}},{key:"tomorrowHandler",value:function(e){console.log("handle tomorrow..."),e.preventDefault(),this.setState({todayDD:this.getDateWithOffset(1)})}},{key:"getDateWithOffset",value:function(e){var t,a=this,n=new Date(2e3,this.state.todayMM-1,this.state.todayDD),o=n.setDate(n.getDate()+e);t=new Date(o).getDate();var r=new Date(o).getMonth()+1;return this.setState({todayMM:r},function(){a.getBreachesToday()}),t}},{key:"todayHandler",value:function(e){var t=this;console.log("handle today..."),e.preventDefault(),this.setState({todayDD:(new Date).getDate(),todayMM:(new Date).getMonth()+1},function(){t.getBreachesToday()})}},{key:"getBreachesToday",value:function(){console.log("searching for todays breachs");var e=[],t=this.state.breaches,a=this.state.todayDD,n=this.state.todayMM;t.forEach(function(t){var o=new Date(t.BreachDate),r=o.getDate(),c=o.getMonth()+1;a===r&&n===c&&(console.log(t),e.push(t))}),0===e.length?this.setState({breachesToday:[]}):this.setState({breachesToday:e})}},{key:"render",value:function(){console.log("rendering App ...");var e=this.state,t=e.breachesToday,a=e.todayMM,n=e.todayDD,r=0===t.length,c=r?o.a.createElement(D,{month:a,date:n}):t.map(function(e){return o.a.createElement(y,{item:e})});return o.a.createElement("div",{className:"App"},o.a.createElement("header",null),o.a.createElement(v,{handler:this.yesterdayHandler,isPeace:r}),o.a.createElement(p,{handler:this.todayHandler,isPeace:r}),o.a.createElement(g,{handler:this.tomorrowHandler,isPeace:r}),c)}}]),t}(n.Component),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(E,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/today-in-history",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/today-in-history","/service-worker.js");k?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):M(e)})}}()}},[[12,2,1]]]);
//# sourceMappingURL=main.f8dac45d.chunk.js.map